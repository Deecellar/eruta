#!/bin/bash
# This little tool calls genproto for all C files in the src directory
# And outputs function prototypes in the include directory (the xxx_proto.h files)
# Very handy, saves time because prototypes don't need to be written by hand anymore.
#
export PATH=.:./bin:$PATH
for each in src/*.c 
do
	base=$(basename $each)
	out=include/${base%.c}_proto.h
	if [ $each -nt $out ]
	then 
	echo "Generating:" $out
	genproto $each > $out
	else
	echo "Skipping:" $out
	fi
done
